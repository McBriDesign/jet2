{"version":3,"sources":["main.js"],"names":["window","NodeList","prototype","forEach","Array","currentlyOpenModals","noModalsOpen","length","openModal","modalId","modalWrapper","document","getElementById","classList","remove","push","closeTopmostModal","add","pop","modalTriggers","querySelectorAll","modalTrigger","addEventListener","clickEvent","trigger","target","getAttribute","modal","stopPropagation","modalWrappers","closeModalButton"],"mappings":";;AAAA,IAAIA,MAAM,CAACC,QAAP,IAAmB,CAACA,QAAQ,CAACC,SAAT,CAAmBC,OAA3C,EAAoD;AAClDF,EAAAA,QAAQ,CAACC,SAAT,CAAmBC,OAAnB,GAA6BC,KAAK,CAACF,SAAN,CAAgBC,OAA7C;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,IAAIE,mBAAmB,GAAG,EAA1B;;AAEA,IAAMC,YAAY,GAAG,SAAfA,YAAe;AAAA,SAAM,CAACD,mBAAmB,CAACE,MAA3B;AAAA,CAArB;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAAAC,OAAO,EAAI;AAC3B,MAAMC,YAAY,GAAGC,QAAQ,CAACC,cAAT,CAAwBH,OAAxB,CAArB;AACAC,EAAAA,YAAY,CAACG,SAAb,CAAuBC,MAAvB,CAA8B,sBAA9B;AACAT,EAAAA,mBAAmB,CAACU,IAApB,CAAyBL,YAAzB;AACD,CAJD,C,CAMA;;;AACA,IAAMM,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;AAC9B,MAAIV,YAAY,EAAhB,EAAoB;AAClB;AACD;;AAED,MAAMI,YAAY,GAAGL,mBAAmB,CAACA,mBAAmB,CAACE,MAApB,GAA6B,CAA9B,CAAxC;AACAG,EAAAA,YAAY,CAACG,SAAb,CAAuBI,GAAvB,CAA2B,sBAA3B;AACAZ,EAAAA,mBAAmB,CAACa,GAApB;AACD,CARD;;AAUA,IAAMC,aAAa,GAAGR,QAAQ,CAACS,gBAAT,CAA0B,OAA1B,CAAtB;AACAD,aAAa,CAAChB,OAAd,CAAsB,UAAAkB,YAAY,EAAI;AACpCA,EAAAA,YAAY,CAACC,gBAAb,CAA8B,OAA9B,EAAuC,UAAAC,UAAU,EAAI;AACnD,QAAMC,OAAO,GAAGD,UAAU,CAACE,MAA3B;AACA,QAAMhB,OAAO,GAAGe,OAAO,CAACE,YAAR,CAAqB,eAArB,CAAhB;AACAlB,IAAAA,SAAS,CAACC,OAAD,CAAT;AACD,GAJD;AAKD,CAND,E,CAQA;AACA;;AACAE,QAAQ,CAACS,gBAAT,CAA0B,wBAA1B,EAAoDjB,OAApD,CAA4D,UAAAwB,KAAK,EAAI;AACnEA,EAAAA,KAAK,CAACL,gBAAN,CAAuB,OAAvB,EAAgC,UAAAC,UAAU,EAAI;AAC5CA,IAAAA,UAAU,CAACK,eAAX;AACD,GAFD;AAGD,CAJD;AAMA,IAAMC,aAAa,GAAGlB,QAAQ,CAACS,gBAAT,CAA0B,iBAA1B,CAAtB;AACAS,aAAa,CAAC1B,OAAd,CAAsB,UAAAO,YAAY,EAAI;AACpCA,EAAAA,YAAY,CAACY,gBAAb,CAA8B,OAA9B,EAAuC,YAAM;AAC3CN,IAAAA,iBAAiB;AAClB,GAFD;AAGD,CAJD;AAMAL,QAAQ,CAACS,gBAAT,CAA0B,QAA1B,EAAoCjB,OAApC,CAA4C,UAAA2B,gBAAgB,EAAI;AAC9DA,EAAAA,gBAAgB,CAACR,gBAAjB,CAAkC,OAAlC,EAA2C,YAAM;AAC/CN,IAAAA,iBAAiB;AAClB,GAFD;AAGD,CAJD","sourcesContent":["if (window.NodeList && !NodeList.prototype.forEach) {\r\n  NodeList.prototype.forEach = Array.prototype.forEach;\r\n}\r\n\r\n/*\r\n\r\nconst open = document.getElementById('open');\r\nconst modalContainer = document.getElementById('modalContainer');\r\nconst close = document.getElementById('close');\r\n\r\nopen.addEventListener('click', () => {\r\n    modalContainer.classList.remove('modalContainer--hide');\r\n})\r\n\r\nclose.addEventListener('click', () => {\r\n    modalContainer.classList.add('modalContainer--hide');\r\n})\r\n\r\n*/\r\n\r\n\r\nlet currentlyOpenModals = [];\r\n\r\nconst noModalsOpen = () => !currentlyOpenModals.length;\r\n\r\nconst openModal = modalId => {\r\n  const modalWrapper = document.getElementById(modalId);\r\n  modalWrapper.classList.remove(\"modalContainer--hide\");\r\n  currentlyOpenModals.push(modalWrapper);\r\n};\r\n\r\n// By definition, it's always the topmost modal that will be closed first\r\nconst closeTopmostModal = () => {\r\n  if (noModalsOpen()) {\r\n    return;\r\n  }\r\n\r\n  const modalWrapper = currentlyOpenModals[currentlyOpenModals.length - 1];\r\n  modalWrapper.classList.add(\"modalContainer--hide\");\r\n  currentlyOpenModals.pop();\r\n};\r\n\r\nconst modalTriggers = document.querySelectorAll(\".open\");\r\nmodalTriggers.forEach(modalTrigger => {\r\n  modalTrigger.addEventListener(\"click\", clickEvent => {\r\n    const trigger = clickEvent.target;\r\n    const modalId = trigger.getAttribute(\"data-modal-id\");\r\n    openModal(modalId);\r\n  });\r\n});\r\n\r\n// Otherwise, clicking the content of a modal will propagate the click to the modal wrapper,\r\n// and that will close the entire thing. That's not what we want!\r\ndocument.querySelectorAll(\".modalContainer__modal\").forEach(modal => {\r\n  modal.addEventListener(\"click\", clickEvent => {\r\n    clickEvent.stopPropagation();\r\n  });\r\n});\r\n\r\nconst modalWrappers = document.querySelectorAll(\".modalContainer\");\r\nmodalWrappers.forEach(modalWrapper => {\r\n  modalWrapper.addEventListener(\"click\", () => {\r\n    closeTopmostModal();\r\n  });\r\n});\r\n\r\ndocument.querySelectorAll(\".close\").forEach(closeModalButton => {\r\n  closeModalButton.addEventListener(\"click\", () => {\r\n    closeTopmostModal();\r\n  });\r\n});\r\n"],"file":"main.js"}